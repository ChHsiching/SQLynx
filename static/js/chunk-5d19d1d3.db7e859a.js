(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-5d19d1d3"],{"0c8d":function(e,t,s){"use strict";s("dc2e")},"13bf":function(e,t,s){},1597:function(e,t,s){},"2af7":function(e,t,s){"use strict";s("1597")},4446:function(e,t,s){},4988:function(e,t,s){},"4d86":function(e,t,s){"use strict";var a={name:"PaginationView",props:{pageconfig:{type:Object,default:{layout:"prev, pager, next, sizes,jumper","page-sizes":[50,100,150,200],"page-size":50,total:0}}},methods:{changePagination(e){this.$emit("curHandleChange",e)},sizeChangeHandle(e){this.$emit("sizeChangeHandle",e)}}},s=(s("ac21"),s("2877")),s=Object(s.a)(a,function(){var e=this,t=e._self._c;return t("div",{staticClass:"page-container"},[t("el-pagination",e._b({attrs:{background:""},on:{"current-change":e.changePagination,"size-change":e.sizeChangeHandle}},"el-pagination",{...e.pageconfig},!1))],1)},[],!1,null,"65ef165e",null);t.a=s.exports},"4f9d":function(e,t,s){"use strict";s("a137")},"50dc":function(e,t,s){},5875:function(e,t,s){"use strict";var a={props:{title:{type:String,default:()=>""},isHeaderShow:{type:Boolean,default:e=>!0},isFooterShow:{type:Boolean,default:e=>!0},isFullScreenButtonShow:{type:Boolean,default:e=>!0},width:{type:String,default:e=>"800px"},visible:{type:Boolean,default:e=>!0}},data(){return{isFullscreen:!1}},mounted(){},methods:{toggoleFullScreen(){this.isFullscreen=!this.isFullscreen,this.$emit("fullScreenClick")},toggoleCloseDialog(){this.$emit("closeDialogClick")}}},s=(s("c468"),s("2877")),s=Object(s.a)(a,function(){var t=this,e=t._self._c;return e("el-dialog",{directives:[{name:"dialogDrag",rawName:"v-dialogDrag"}],class:t.isFullscreen?"full-screen-dialog":"",attrs:{"close-on-click-modal":!1,top:"15vh",visible:t.visible,width:t.width,"show-close":!1,"append-to-body":"","destory-on-close":"","close-on-press-escape":!1},on:{"update:visible":function(e){t.visible=e}}},[t.isHeaderShow?e("template",{slot:"title"},[t.title?e("span",{staticClass:"el-dialog__title"},[t._v(t._s(t.title))]):t._t("customTitle"),t.isFullScreenButtonShow?e("svg-icon",{staticClass:"btn-fullscreen",staticStyle:{"font-size":"12px"},attrs:{"icon-class":t.isFullscreen?"fullscreen-not-expand-icon":"fullscreen-expand-icon"},on:{click:t.toggoleFullScreen}}):t._e(),e("svg-icon",{staticClass:"btn-close",staticStyle:{"font-size":"12px"},attrs:{"icon-class":"titleBtnClose"},on:{click:t.toggoleCloseDialog}})],2):t._e(),t._t("default"),e("template",{slot:"footer"},[t._t("footer")],2)],2)},[],!1,null,"1579e980",null);t.a=s.exports},5978:function(e,t,s){"use strict";s("ddd7")},"87fb":function(e,t,s){},"8f87":function(e,t,s){"use strict";s.r(t);var a=s("ffd7"),i=s("b0b9"),n=s("cc33"),l=s("fa7d"),c={name:"userinfo",data(){return{form:{name:"",desc:""},rules:{name:[{max:50,message:"请输入50个字以内文本",trigger:"blur"}],desc:[{max:200,message:"请输入200个字以内文本",trigger:"blur"}]},disa:!1}},created(){this.getinfo()},methods:{getinfo(){var e;(-1==Object(n.c)()?null:Object(n.c)())||Object(l.e)(this.$route.params,"id")?(e=Object(n.c)()||this.$route.params.id,Object(a.b)({groupId:e}).then(e=>{this.$resultSuccess(e)?this.form={name:e.data.data.groupName,desc:e.data.data.description}:this.$handleError(e)})):this.form={name:"",desc:""}},back(){this.disa=!1,this.fanhui=!0,this.$emit("isback")},abled(){this.disa=!1},addinfo(){this.$refs.form.validate(e=>{if(!e)return this.$message({type:"error",message:"error!"}),!1;-1==Object(n.c)()?Object(a.e)({groupName:this.form.name,description:this.form.desc}).then(e=>{this.$resultSuccess(e)?(Object(i.a)(this),this.disa=!0,Object(n.n)(e.data.data.groupId)):this.$handleError(e)}):Object(a.e)({groupId:Object(n.c)(),groupName:this.form.name,description:this.form.desc}).then(e=>{this.$resultSuccess(e)?(Object(i.g)(this),this.disa=!0):this.$handleError(e)})})}}},r=(s("e727"),s("2877")),c=Object(r.a)(c,function(){var t=this,e=t._self._c;return e("div",{staticClass:"user-basic-info-box"},[e("el-form",{ref:"form",staticClass:"form-set-container",attrs:{rules:t.rules,model:t.form,"label-width":"80px"}},[e("el-form-item",{attrs:{label:t.$t("table.group"),prop:"name"}},[e("el-input",{staticClass:"inpname textcon input-default",attrs:{placeholder:t.$t("placeholder")},on:{input:t.abled},model:{value:t.form.name,callback:function(e){t.$set(t.form,"name",e)},expression:"form.name"}})],1),e("el-form-item",{staticStyle:{height:"87%","margin-top":"28px"},attrs:{label:t.$t("table.desp"),prop:"desc"}},[e("el-input",{staticClass:"text textcon",attrs:{type:"textarea",rows:10,placeholder:t.$t("placeholderdes")},on:{input:t.abled},model:{value:t.form.desc,callback:function(e){t.$set(t.form,"desc",e)},expression:"form.desc"}})],1)],1),e("div",{staticClass:"limitbtn"},[e("button",{staticClass:"button-default",on:{click:t.back}},[t._v(" "+t._s(t.$t("btn.back"))+" ")]),e("button",{staticClass:"button-default-blue",class:{baocun:t.disa},attrs:{disabled:t.disa},on:{click:t.addinfo}},[t._v(" "+t._s(t.$t("btn.save"))+" ")])])],1)},[],!1,null,"4d5e5481",null).exports,o=(s("14d9"),s("4d86")),u=s("db0a"),d={name:"User",data(){return{allIsChecked:!0,filterText:"",tableData:[],addusernum:0,selectedlist:[],flagcheckall:!1,seecheck:!1,disa:!1,pageNo:1,originfilterTable:"",setpage:{layout:"prev, pager, next, sizes, jumper",pageSizes:[50,100,150,200],pageSize:50,currentPage:1,total:1,hideOnSinglePage:!1,background:!0}}},components:{mPagination:o.a,checkBox:u.a},created(){Object(a.d)({groupId:Object(n.c)()}).then(e=>{var s;this.$resultSuccess(e)?(this.tableData=[],s=!0,e.data.data.map(e=>{var t={};t.id=e.id,t.username=e.userName,t.sex=e.sex,t.employeeNo=e.employeeNo,t.tel=e.tel,t.email=e.email,t.createTime=e.createTime,t.checked=1==e.isAdd,e.checked||(s=!1),this.tableData.push(t)}),this.flagcheckall=s):this.$handleError(e)})},computed:{searchMethod(){var e=[],t=this.filterText,s=new RegExp(t,"ig"),e=this.seecheck?this.tableData.filter(e=>e.checked):this.tableData;return t!=this.originfilterTable?(e=e.filter(e=>e.username.match(s)),this.setpage.currentPage=1):e=e.filter(e=>e.username.match(s)),this.originfilterTable=t,this.setpage.total=e.length,{arr:e.slice((this.setpage.currentPage-1)*this.setpage.pageSize,this.setpage.currentPage*this.setpage.pageSize),count:e.length}},selectedusernum(){return this.tableData.filter(e=>e.checked).length},allChecked:{get(){return this.tableData.every(e=>e.checked)},set(t){this.tableData.forEach(e=>e.checked=t)}}},filters:{filterid(e){return e<10?"00000"+e:10<e<100?"0000"+e:100<e<1e3?"000"+e:1e3<e<1e4?"00"+e:void 0}},methods:{setHeaderStyle(){return{"border-radius":"4px 4px 0px 0px",padding:"7px 7px 7px 0","font-weight":"400",color:"#000"}},setTableChange(e){this.setpage.currentPage=e},setSizeChange(e){this.setpage.currentPage=1,this.setpage.pageSize=e},pageinit(){this.setpage.currentPage=1,this.setpage.pageSize=50},seeCheckbox(){this.pageinit()},back(){this.disa=!1,this.$emit("isback")},adduser(){var t=[];this.tableData.filter(e=>e.checked).map(e=>{t.push(e.id)}),Object(a.g)({groupId:Object(n.c)(),userIds:t}).then(e=>{this.$resultSuccess(e)?(Object(i.h)(this),this.disa=!0):this.$handleError(e)})},allCheckChange(){this.tableData.forEach(e=>{e.checked=this.flagcheckall}),this.disa=!1},checkChange(){var t=!0;this.tableData.forEach(e=>{e.checked||(t=!1)}),this.flagcheckall=t,this.disa=!1}}};s("ba6d");var d=Object(r.a)(d,function(){var i=this,s=i._self._c;return s("div",{staticClass:"user-configuration-box"},[s("div",{staticClass:"userinput"},[s("div",[s("el-input",{staticClass:"input-default",staticStyle:{width:"300px"},attrs:{placeholder:i.$t("Usersearch"),"suffix-icon":"el-icon-search"},model:{value:i.filterText,callback:function(e){i.filterText=e},expression:"filterText"}})],1),s("div",{staticClass:"media-span userroles-right"},[s("input",{directives:[{name:"model",rawName:"v-model",value:i.seecheck,expression:"seecheck"}],attrs:{type:"checkbox"},domProps:{checked:Array.isArray(i.seecheck)?-1<i._i(i.seecheck,null):i.seecheck},on:{change:[function(e){var t,s=i.seecheck,e=e.target,a=!!e.checked;Array.isArray(s)?(t=i._i(s,null),e.checked?t<0&&(i.seecheck=s.concat([null])):-1<t&&(i.seecheck=s.slice(0,t).concat(s.slice(t+1)))):i.seecheck=a},i.seeCheckbox]}}),i._v(" "+i._s(i.$t("table.Checkchecked")+"( "+i.selectedusernum+" )")+" ")])]),s("el-divider"),s("div",{staticClass:"usertable"},[s("el-table",{attrs:{data:i.searchMethod.arr,height:"100%","max-height":"100%","header-cell-style":i.setHeaderStyle,"cell-style":{color:"#000"}}},[s("el-table-column",{attrs:{label:"ID","show-overflow-tooltip":!0},scopedSlots:i._u([{key:"default",fn:function(e){return[s("span",[i._v(i._s(i._f("filterid")(e.row.id)))])]}}])}),s("el-table-column",{attrs:{label:i.$t("table.username"),"show-overflow-tooltip":!0},scopedSlots:i._u([{key:"default",fn:function(e){return[s("span",[i._v(i._s(e.row.username))])]}}])}),s("el-table-column",{attrs:{label:i.$t("table.employeeNo"),"show-overflow-tooltip":!0},scopedSlots:i._u([{key:"default",fn:function(e){return[s("span",[i._v(i._s(e.row.employeeNo))])]}}])}),s("el-table-column",{attrs:{label:i.$t("table.tel"),"show-overflow-tooltip":!0},scopedSlots:i._u([{key:"default",fn:function(e){return[s("span",[i._v(i._s(e.row.tel))])]}}])}),s("el-table-column",{attrs:{label:i.$t("table.sex"),"show-overflow-tooltip":!0},scopedSlots:i._u([{key:"default",fn:function(e){return[s("span",[i._v(i._s(e.row.sex))])]}}])}),s("el-table-column",{attrs:{label:i.$t("table.email"),"show-overflow-tooltip":!0},scopedSlots:i._u([{key:"default",fn:function(e){return[s("span",[i._v(i._s(e.row.email))])]}}])}),s("el-table-column",{attrs:{label:i.$t("table.Creationtime"),"show-overflow-tooltip":!0},scopedSlots:i._u([{key:"default",fn:function(e){return[s("span",[i._v(i._s(i._f("timeStamp")(e.row.createTime)))])]}}])}),s("el-table-column",{attrs:{label:i.$t("table.Aadd"),align:"left",width:"120"},scopedSlots:i._u([{key:"header",fn:function(e){return[s("div",{staticClass:"flex-row-center"},[s("checkBox",{model:{value:i.allChecked,callback:function(e){i.allChecked=e},expression:"allChecked"}}),s("span",{staticStyle:{"margin-left":"10px"}},[i._v(" "+i._s(i.$t("table.Aadd")))])],1)]}},{key:"default",fn:function(t){return[s("checkBox",{on:{change:i.checkChange},model:{value:t.row.checked,callback:function(e){i.$set(t.row,"checked",e)},expression:"scope.row.checked"}})]}}])}),s("div",{attrs:{slot:"empty"},slot:"empty"},[s("div",{staticClass:"mod-empty"},[s("span",{staticClass:"iconfont icon-mcsempty"}),s("div",{staticClass:"empty-text"},[i._v(i._s(i.$t("table.emptydata")))])])])],1)],1),s("div",{staticClass:"footer-operate-area"},[s("div",[s("button",{staticClass:"button-default",on:{click:i.back}},[i._v(" "+i._s(i.$t("btn.back"))+" ")]),s("button",{staticClass:"button-default-blue",class:{baocun:i.disa},attrs:{disabled:i.disa},on:{click:i.adduser}},[i._v(" "+i._s(i.$t("btn.save"))+" ")])]),s("div",[s("mPagination",{attrs:{pageconfig:{...i.setpage}},on:{curHandleChange:i.setTableChange,sizeChangeHandle:i.setSizeChange}})],1)])],1)},[],!1,null,"b556031c",null).exports,h=s("1ed0"),p=s("af28"),f=s("f508"),m=s("5875"),u={components:{checkBoxChange:f.a,checkBox:u.a,LynxDialog:m.a},data(){return{title:"",dialogVisible:!1,permissionCustomRule:[],showPermissionCustomRuleTable:!0,dsName:"",seeCheck:!1}},computed:{checkedselectAll(){var e=this.permissionCustomRule;return 0<e.length&&e.every(e=>e.checked)},selectedusernum(){var e;return null!=(e=null==(e=this.permissionCustomRule)||null==(e=e.filter(e=>e.checked))?void 0:e.length)?e:0},showPermissionCustomRule(){return this.seeCheck?this.permissionCustomRule.filter(e=>e.checked):this.permissionCustomRule}},methods:{closeDialog(){this.dialogVisible=!1},async openDialog(e){const{name:t,type:s,permissionRuleIds:a,dsName:i}=e["row"];this.permissionCustomRule=await Object(p.n)({dsName:t,dbType:s,groupId:Object(n.c)()}).then(e=>{e=null!=(e=null==e||null==(e=e.data)?void 0:e.data)?e:[];return e.forEach(e=>e.checked=null===a||void 0===a?void 0:a.includes(e.ruleId)),e}).catch(e=>[]),this.dsName=i,this.seeCheck=!1,this.dialogVisible=!0},checkChange(e){this.$set(e,"checked",!e.checked)},selectAllChange(){const t=this.checkedselectAll;this.permissionCustomRule.forEach(e=>{this.$set(e,"checked",!t)})},sureHandel(){this.$emit("selectPermissionRules",{dsName:this.dsName,rules:this.permissionCustomRule.filter(e=>e.checked)}),this.dialogVisible=!1}}};s("9455");m=Object(r.a)(u,function(){var s=this,a=s._self._c;return a("lynx-dialog",{attrs:{title:s.$t("selectPermissionRules"),visible:s.dialogVisible},on:{closeDialogClick:s.closeDialog}},[a("div",{staticClass:"selectPermissionRuleIds-wrap"},[a("div",{staticClass:"flex-row-center seeCheck-wrap"},[a("checkBox",{model:{value:s.seeCheck,callback:function(e){s.seeCheck=e},expression:"seeCheck"}}),s._v(" "+s._s(s.$t("table.Checkchecked")+"( "+s.selectedusernum+" )")+" ")],1),a("el-table",{ref:"permissionCustomRuleRef",staticClass:"table-wrap",attrs:{data:s.showPermissionCustomRule,height:"100%",fit:""}},[a("el-table-column",{attrs:{label:s.$t("table.Operating"),prop:"operation",width:"80px"}}),a("el-table-column",{attrs:{label:s.$t("importFile.name"),prop:"ruleName"}}),a("el-table-column",{attrs:{label:s.$t("des"),prop:"comment"}}),a("el-table-column",{attrs:{label:s.$t("riskLevel"),prop:"riskLevel"},scopedSlots:s._u([{key:"default",fn:function({row:e}){return[a("span",[s._v(s._s(s.$t(e.riskLevel)))])]}}])}),a("el-table-column",{attrs:{label:s.$t("permissionsAreChecked")},scopedSlots:s._u([{key:"header",fn:function(t){return a("span",{staticClass:"flex-row-center"},[a("checkBoxChange",{staticStyle:{"margin-right":"8px"},attrs:{"is-checked":s.checkedselectAll},nativeOn:{click:function(e){return s.selectAllChange(t)}}}),s._v(" "+s._s(s.$t("permissionsAreChecked"))+" ")],1)}},{key:"default",fn:function(t){return a("span",{staticClass:"flex-row-center",staticStyle:{height:"100%"}},[a("checkBoxChange",{staticStyle:{"margin-right":"8px"},attrs:{"is-checked":t.row.checked},nativeOn:{click:function(e){return s.checkChange(t.row)}}})],1)}}])})],1)],1),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:s.closeDialog}},[s._v(s._s(s.$t("btn.cancel")))]),a("el-button",{staticClass:"blue-button",on:{click:s.sureHandel}},[s._v(s._s(s.$t("btn.sure")))])],1)])},[],!1,null,"77615208",null).exports,u=s("2f62"),o={name:"SourcePeizhi",data(){return{filterText:"",tableData:[],seecheck:!1,disa:!1,pageNo:1,originfilterTable:"",setpage:{layout:"prev, pager, next, sizes, jumper",pageSizes:[50,100,150,200],pageSize:50,currentPage:1,total:1,hideOnSinglePage:!1,background:!0}}},components:{mPagination:o.a,selectPermissionRuleIds:m,CheckBox:f.a},created(){Object(a.c)({groupId:Object(n.c)()}).then(e=>{this.$resultSuccess(e)?(this.tableData=[],e.data.data.map(e=>{var t={};if(t.id=e.metastoreId,t.name=e.dsName,t.createTime=e.createTime,t.updateTime=e.updateTime,t.type=e.type,t.dsName=e.dsName,e.permissionRuleIds)try{t.permissionRuleIds=JSON.parse(e.permissionRuleIds)}catch{t.permissionRuleIds=[]}t.permissionType=e.permissionType,this.tableData.push(t)})):this.$handleError(e)})},computed:{...Object(u.b)(["isPremiumEdition"]),searchMethod(){var e=[],t=this.filterText,s=new RegExp(t,"ig"),e=this.seecheck?this.tableData.filter(e=>e.permissionType):this.tableData;return t!=this.originfilterTable?(e=e.filter(e=>e.name.match(s)),this.$refs.page.pageNo=1,this.setpage.currentPage=1):e=e.filter(e=>e.name.match(s)),this.setpage.total=e.length,this.originfilterTable=t,{arr:e.slice((this.setpage.currentPage-1)*this.setpage.pageSize,this.setpage.currentPage*this.setpage.pageSize),count:e.length}},selectedusernum(){return this.tableData.filter(e=>e.permissionType).length},readOnlyselectAll(){var e=null==(e=this.searchMethod)?void 0:e.arr;return 0<(null==e?void 0:e.length)&&(null==e?void 0:e.every(e=>1==e.permissionType))},readWriteselectAll(){var e=null==(e=this.searchMethod)?void 0:e.arr;return 0<(null==e?void 0:e.length)&&(null==e?void 0:e.every(e=>[2,3].includes(e.permissionType)))}},methods:{setHeaderStyle(){return{"border-radius":"4px 4px 0px 0px",padding:"7px 7px 7px 0","font-weight":"400",color:"#000"}},getDatabaseFixIcon:h.D,setTableChange(e){this.setpage.currentPage=e},setSizeChange(e){this.setpage.currentPage=1,this.setpage.pageSize=e},changepage(e){this.pageNo=e.pageNo},pageinit(){this.$refs.page.pageNo=1,this.pageNo=1},seeCheckbox(){this.pageinit()},back(){this.disa=!1,this.$emit("isback")},addapidata(){var e=this.tableData.filter(e=>e.permissionType).map(e=>{let{name:t,permissionType:s,permissionRuleIds:a}=e;return{dsName:t,permissionType:s=2==s&&0<(null==a?void 0:a.length)?3:s,permissionRuleIds:a}});Object(a.f)({groupId:Object(n.c)(),dsNames:e}).then(e=>{this.$resultSuccess(e)?(Object(i.h)(this),this.disa=!0):this.$handleError(e)}).finally},checkChange(e,t){this.$set(e,"permissionType",e.permissionType===t?"":t),this.disa=!1},checkPermissionTypeChange(e,t){this.$set(e,"permissionType",[2,3].includes(e.permissionType)?"":t),this.disa=!1},selectAllChange(e,t){const s=1==t?this.readOnlyselectAll:this.readWriteselectAll;this.tableData.forEach(e=>{this.$set(e,"permissionType",s?"":t)}),this.disa=!1},selectPermissionRule(e){this.$refs.selectPermissionRuleIdsRef.openDialog(e)},selectPermissionRules({dsName:t,rules:e}){var s=this.tableData.findIndex(e=>e.dsName===t);this.$set(this.tableData[s],"permissionRuleIds",e.map(e=>e.ruleId)),this.disa=!1}}};s("4f9d");m=Object(r.a)(o,function(){var i=this,s=i._self._c;return s("div",{staticClass:"datasource-configure-box"},[s("div",{staticClass:"userinput"},[s("div",[s("el-input",{staticClass:"input-default",staticStyle:{width:"300px"},attrs:{placeholder:i.$t("form.sqlLibsearch"),"suffix-icon":"el-icon-search"},model:{value:i.filterText,callback:function(e){i.filterText=e},expression:"filterText"}})],1),s("div",{staticClass:"media-span userinput-right"},[s("input",{directives:[{name:"model",rawName:"v-model",value:i.seecheck,expression:"seecheck"}],attrs:{type:"checkbox"},domProps:{checked:Array.isArray(i.seecheck)?-1<i._i(i.seecheck,null):i.seecheck},on:{change:[function(e){var t,s=i.seecheck,e=e.target,a=!!e.checked;Array.isArray(s)?(t=i._i(s,null),e.checked?t<0&&(i.seecheck=s.concat([null])):-1<t&&(i.seecheck=s.slice(0,t).concat(s.slice(t+1)))):i.seecheck=a},function(e){return i.seeCheckbox()}]}}),i._v(" "+i._s(i.$t("table.Checkchecked")+"( "+i.selectedusernum+" )")+" ")])]),s("el-divider"),s("div",{staticClass:"usertable"},[s("el-table",{attrs:{data:i.searchMethod.arr,height:"100%","max-height":"100%","header-cell-style":i.setHeaderStyle,"cell-style":{color:"#666666"},fit:""}},[s("el-table-column",{attrs:{label:i.$t("form.sources"),"show-overflow-tooltip":!0},scopedSlots:i._u([{key:"default",fn:function(e){return[s("span",[i._v(i._s(e.row.name))])]}}])}),s("el-table-column",{attrs:{label:i.$t("form.Databasetype"),"show-overflow-tooltip":!0},scopedSlots:i._u([{key:"default",fn:function(e){return[s("span",{staticClass:"iconfix",style:`background: url('${i.getDatabaseFixIcon(e.row.type)}') no-repeat;`}),s("span",{},[i._v(i._s(e.row.type))])]}}])}),s("el-table-column",{attrs:{label:i.$t("table.Creationtime"),"show-overflow-tooltip":!0},scopedSlots:i._u([{key:"default",fn:function(e){return[s("span",[i._v(i._s(i._f("timeStamp")(e.row.createTime)))])]}}])}),s("el-table-column",{attrs:{label:i.$t("updatetime"),"show-overflow-tooltip":!0},scopedSlots:i._u([{key:"default",fn:function(e){return[s("span",[i._v(i._s(i._f("timeStamp")(e.row.updateTime)))])]}}])}),i.isPremiumEdition?s("el-table-column",{attrs:{label:i.$t("readOnly"),align:"left",width:"120"},scopedSlots:i._u([{key:"header",fn:function(t){return s("span",{staticClass:"flex-row-center"},[s("CheckBox",{staticStyle:{"margin-right":"8px"},attrs:{"is-checked":i.readOnlyselectAll},nativeOn:{click:function(e){return i.selectAllChange(t,1)}}}),i._v(" "+i._s(i.$t("readOnly"))+" ")],1)}},{key:"default",fn:function(t){return s("span",{staticClass:"flex-row-center"},[s("CheckBox",{attrs:{"is-checked":1==t.row.permissionType},nativeOn:{click:function(e){return i.checkChange(t.row,1)}}})],1)}}],null,!1,3091072963)}):i._e(),s("el-table-column",{attrs:{label:i.$t("readWrite"),align:"left",width:"150"},scopedSlots:i._u([{key:"header",fn:function(t){return s("span",{staticClass:"flex-row-center"},[s("CheckBox",{staticStyle:{"margin-right":"8px"},attrs:{"is-checked":i.readWriteselectAll},nativeOn:{click:function(e){return i.selectAllChange(t,2)}}}),i._v(" "+i._s(i.$t("readWrite"))+" ")],1)}},{key:"default",fn:function(t){return s("span",{staticClass:"flex-row-center"},[s("CheckBox",{attrs:{"is-checked":[2,3].includes(t.row.permissionType)},nativeOn:{click:function(e){return i.checkPermissionTypeChange(t.row,2)}}}),[2,3].includes(t.row.permissionType)&&i.isPremiumEdition?s("el-button",{staticStyle:{"margin-left":"8px",padding:"0"},attrs:{type:"text"},on:{click:function(e){return i.selectPermissionRule(t)}}},[i._v(i._s(i.$t("advanceLabel")))]):i._e()],1)}}])}),s("div",{attrs:{slot:"empty"},slot:"empty"},[s("div",{staticClass:"mod-empty"},[s("span",{staticClass:"iconfont icon-mcsempty"}),s("div",{staticClass:"empty-text"},[i._v(i._s(i.$t("table.emptydata")))])])])],1)],1),s("div",{staticClass:"limitbtn",staticStyle:{display:"flex","justify-content":"space-between",height:"33px"}},[s("div",{staticStyle:{height:"33px",display:"flex","align-items":"center"}},[s("button",{staticClass:"button-default",on:{click:i.back}},[i._v(" "+i._s(i.$t("btn.back"))+" ")]),s("button",{staticClass:"button-default-blue",class:{baocun:i.disa},attrs:{disabled:i.disa},on:{click:i.addapidata}},[i._v(" "+i._s(i.$t("btn.save"))+" ")])]),s("mPagination",{ref:"page",attrs:{pageconfig:{...i.setpage}},on:{curHandleChange:i.setTableChange,sizeChangeHandle:i.setSizeChange}})],1),s("select-permission-rule-ids",{ref:"selectPermissionRuleIdsRef",on:{selectPermissionRules:i.selectPermissionRules}})],1)},[],!1,null,"c018f694",null).exports,f={name:"CustomIcon",props:["active"]};s("8fc4e");u=Object(r.a)(f,function(){return(0,this._self._c)("i",{class:this.active?"active":"basic"})},[],!1,null,"37c94906",null).exports,h={name:"CustomIcon",props:["active"]};s("a0da");o=Object(r.a)(h,function(){return(0,this._self._c)("i",{class:this.active?"active":"basic"})},[],!1,null,"37f7936a",null).exports,f={name:"CustomIcon",props:["active"]};s("5978");h={name:"limittab",data(){return{navList:[{icon:"base-info",lable:this.$t("btn.Basicinfo")},{icon:"staffing",lable:this.$t("btn.Staffing")},{icon:"api-config",lable:this.$t("menu.Apiconfig")}],num:-1,baseinfo:{}}},components:{userinfo:c,userpeizhi:d,apilimit:m,BasicInfo:u,PersonConfig:o,DataConfig:Object(r.a)(f,function(){return(0,this._self._c)("i",{class:this.active?"active":"basic"})},[],!1,null,"7bffdee9",null).exports},mounted(){window.addEventListener("beforeunload",e=>{Object(n.n)(Object(n.c)())})},created(){this.num=-1,"{}"!=JSON.stringify(this.$route.query)?Object(n.n)(this.$route.query.id):Object(n.n)(-1),this.$nextTick(()=>{this.num=0})},methods:{back1(){this.$router.back()},toggleTabs(e){-1==Object(n.c)()?Object(i.k)(this,this.$t("message.limitinfo")):this.num=e}}},s("2af7"),c=Object(r.a)(h,function(){var s=this,a=s._self._c;return a("div",{staticClass:"originpage"},[a("div",{staticClass:"limittab origininbox"},[a("ul",{staticClass:"ullist"},s._l(s.navList,function(e,t){return a("li",{key:t,staticClass:"pointer mod-text",class:{active:t==s.num},attrs:{onselectstart:"return false;"},on:{click:function(e){return s.toggleTabs(t)}}},[a("svg-icon",{attrs:{"icon-class":e.icon}}),a("span",{staticClass:"text"},[s._v(s._s(e.lable))])],1)}),0),a("div",{staticClass:"tabCon"},[0==s.num?a("userinfo",{ref:"userinfo",on:{isback:s.back1}}):1==s.num?a("userpeizhi",{ref:"userpeizhi",on:{isback:s.back1}}):2==s.num?a("apilimit",{ref:"apilimit",on:{isback:s.back1}}):s._e()],1)])])},[],!1,null,"fe91a982",null);t.default=c.exports},"8fc4e":function(e,t,s){"use strict";s("50dc")},9455:function(e,t,s){"use strict";s("4446")},a0da:function(e,t,s){"use strict";s("d777")},a137:function(e,t,s){},ac21:function(e,t,s){"use strict";s("87fb")},af28:function(e,t,s){"use strict";s.d(t,"g",function(){return i}),s.d(t,"e",function(){return n}),s.d(t,"b",function(){return l}),s.d(t,"a",function(){return c}),s.d(t,"k",function(){return r}),s.d(t,"j",function(){return o}),s.d(t,"f",function(){return u}),s.d(t,"c",function(){return d}),s.d(t,"i",function(){return h}),s.d(t,"h",function(){return p}),s.d(t,"d",function(){return f}),s.d(t,"n",function(){return m}),s.d(t,"l",function(){return b}),s.d(t,"o",function(){return g}),s.d(t,"p",function(){return k}),s.d(t,"m",function(){return v});var a=s("b775"),t=s("bc3a");function i(e){return Object(a.a)({method:"post",url:"approval/queryUserApplyList",data:e})}function n(e){return Object(a.a)({method:"post",url:"approval/queryPermissionCustomRule",data:e})}function l(e){return Object(a.a)({method:"post",url:"approval/createApply",data:e})}function c(e){return Object(a.a)({method:"post",url:"approval/createAndSubmitApply",data:e})}function r(e){return Object(a.a)({method:"post",url:"approval/updateApply",data:e})}function o(e){return Object(a.a)({method:"post",url:"approval/updateAndSubmitApply",data:e})}function u(e){return Object(a.a)({method:"post",url:"approval/queryUserApplyDetail",data:e})}function d(e){return Object(a.a)({method:"post",url:"approval/operateApply",data:e})}function h(e){return Object(a.a)({method:"post",url:"approval/queryUserApprovalList",data:e})}function p(e){return Object(a.a)({method:"post",url:"approval/queryUserApprovalDetail",data:e})}function f(e){return Object(a.a)({method:"post",url:"approval/operateApproval",data:e})}function m(e){return Object(a.a)({method:"post",url:"/approval/queryGroupDsRules",data:e})}function b(e){return Object(a.a)({method:"post",url:"/global/config/createPermissionRule",data:e})}function g(e){return Object(a.a)({method:"post",url:"/global/config/queryPermissionRule",data:e})}function k(e){return Object(a.a)({method:"post",url:"/global/config/updatePermissionRule",data:e})}function v(e){return Object(a.a)({method:"post",url:"/global/config/deletePermissionRule",data:e})}s.n(t).a.CancelToken},ba6d:function(e,t,s){"use strict";s("ff24")},bd5d:function(e,t,s){"use strict";s("f06b")},c468:function(e,t,s){"use strict";s("4988")},d777:function(e,t,s){},db0a:function(e,t,s){"use strict";var a={props:{value:{type:Boolean,default:!1},size:{type:String,default:"21px"}},computed:{isChecked:{get(){return this.value},set(e){this.$emit("input",e)}}}},s=(s("bd5d"),s("2877")),s=Object(s.a)(a,function(){var t=this,e=t._self._c;return e("span",{staticClass:"checkBox-wrap",class:{isChecked:t.isChecked},style:{"--size":t.size},on:{click:function(e){t.isChecked=!t.isChecked}}},[t.isChecked?e("svg-icon",{attrs:{"icon-class":"check-icon"}}):t._e()],1)},[],!1,null,"45212cdf",null);t.a=s.exports},dc2e:function(e,t,s){},ddd7:function(e,t,s){},e727:function(e,t,s){"use strict";s("13bf")},f06b:function(e,t,s){},f508:function(e,t,s){"use strict";var a={props:{isChecked:{type:Boolean,default:!1},size:{type:String,default:"21px"},disable:{type:Boolean,default:!1}},methods:{toggleCheck(){this.disable||this.$emit("checkChange",!this.isChecked)}}},s=(s("0c8d"),s("2877")),s=Object(s.a)(a,function(){var e=this,t=e._self._c;return t("span",{staticClass:"checkBox-wrap",class:{isChecked:e.isChecked,disable:e.disable},style:{"--size":e.size},on:{click:e.toggleCheck}},[e.isChecked?t("svg-icon",{attrs:{"icon-class":"check-icon"}}):e._e()],1)},[],!1,null,"50f6bcb6",null);t.a=s.exports},ff24:function(e,t,s){},ffd7:function(e,t,s){"use strict";s.d(t,"e",function(){return i}),s.d(t,"c",function(){return n}),s.d(t,"f",function(){return l}),s.d(t,"d",function(){return c}),s.d(t,"g",function(){return r}),s.d(t,"a",function(){return o}),s.d(t,"b",function(){return u});var a=s("b775");function i(e){return Object(a.a)({method:"post",url:"permissionManage/saveBaseInfo",data:e})}function n(e){return Object(a.a)({method:"post",url:"/permissionManage/getPermissionDatasouceList",data:e})}function l(e){return Object(a.a)({method:"post",url:"/permissionManage/saveDsName",data:e})}function c(e){return Object(a.a)({method:"post",url:"permissionManage/queryPermissionUsers",data:e})}function r(e){return Object(a.a)({method:"post",url:"permissionManage/savePermissionUsers",data:e})}function o(e){return Object(a.a)({method:"post",url:"permissionManage/delete",data:e})}function u(e){return Object(a.a)({method:"post",url:"permissionManage/getGroupInformation",data:e})}}}]);
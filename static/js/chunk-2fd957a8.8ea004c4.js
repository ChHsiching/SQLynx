(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-2fd957a8"],{"00a8":function(e,t,a){"use strict";a("89a2")},"1caf":function(e,t,a){},"1e1d":function(e,t,a){"use strict";var s={props:["value"],computed:{input:{get(){return this.value},set(e){this.$emit("input",e)}}}},a=(a("643d"),a("2877")),a=Object(a.a)(s,function(){var a=this;return(0,a._self._c)("el-input",a._g(a._b({staticClass:"custom-input-wrap",scopedSlots:a._u([a._l(a.$scopedSlots,function(e,t){return{key:t,fn:function(e){return[a._t(t,null,null,e)]}}})],null,!0),model:{value:a.input,callback:function(e){a.input=e},expression:"input"}},"el-input",a.$attrs,!1),a.$listeners),[a._l(a.$slots,function(e,t){return a._t(t,null,{slot:t})})],2)},[],!1,null,"34ce168a",null);t.a=a.exports},"1e8b":function(e,t,a){},3335:function(e,t,a){"use strict";var s={props:{menuList:{type:Array,default(){return[]}},titleLabel:{type:String,default:""}},data(){return{activeName:"",isCollapse:!1}},mounted(){var e;this.handleClick(null!=(e=null==(e=this.menuList)||null==(e=e[0])?void 0:e.name)?e:"")},methods:{handleClick(e){this.activeName=e,this.$emit("change",e)}}},a=(a("7cc1"),a("2877")),a=Object(a.a)(s,function(){var a=this,s=a._self._c;return s("div",{staticClass:"filter-bar-wrap"},[s("div",{staticClass:"left-menu",class:{isCollapse:a.isCollapse}},[s("div",{staticClass:"title"},[a._v(" "+a._s(a.$t(a.titleLabel))+" ")]),s("div",{staticClass:"menu-list"},a._l(a.menuList,function(t,e){return s("div",{key:e,staticClass:"menu-item",class:{"is-active":a.activeName===t.name},on:{click:function(e){return a.handleClick(t.name)}}},[s("svg-icon",{attrs:{"icon-class":t.icon}}),s("span",[a._v(a._s(a.$t(t.label)))])],1)}),0),s("div",{staticClass:"collapse-wrap",on:{click:function(e){a.isCollapse=!a.isCollapse}}},[s("i",{staticClass:"el-icon-d-arrow-left",class:{isCollapse:a.isCollapse}})])]),s("div",{staticClass:"right-content"},[a._t("default")],2)])},[],!1,null,"35ac737a",null);t.a=a.exports},"3f0e":function(e,t,a){"use strict";var s={components:{LynxDialog:a("5875").a},data(){return{dialogVisible:!1,title:"",message:"",width:"50vw",showFooter:!1,msgList:{ipAddress:"",executeTime:"",logMessage:""}}},methods:{closeDialog(){this.dialogVisible=!1}}},i=(a("9015"),a("2877")),i=Object(i.a)(s,function(){var t=this,e=t._self._c;return e("lynx-dialog",{attrs:{title:t.title,visible:t.dialogVisible},on:{closeDialogClick:t.closeDialog}},[e("el-form",{attrs:{size:"mini","label-width":"60px","label-position":"left"}},[e("el-form-item",{attrs:{label:"IP:"}},[e("span",[t._v(t._s(t.msgList.ipAddress))])]),e("el-form-item",{attrs:{label:t.msgList.executeTimeLabel+":"}},[e("span",[t._v(t._s(t.msgList.executeTime))])])],1),e("div",{staticClass:"flex-text-log"},[e("p",[t._v(t._s(t.msgList.logMessageLabel+":"))]),e("el-input",{attrs:{type:"textarea",readonly:""},model:{value:t.msgList.logMessage,callback:function(e){t.$set(t.msgList,"logMessage",e)},expression:"msgList.logMessage"}})],1)],1)},[],!1,null,"22fa743a",null).exports;const l=a("2b0e").default.extend(i);t.a=e=>{e=new l({data:e});e.$mount(),document.body.appendChild(e.$el)}},4855:function(e,t,a){"use strict";var s={props:{value:{required:!0},options:{type:Array,default:()=>[],required:!0},props:{type:Object,default:()=>({label:"label",value:"value"})}},computed:{selectValue:{get(){return this.value},set(e){this.$emit("input",e)}}}},a=(a("c4ae"),a("2877")),a=Object(a.a)(s,function(){var a=this,s=a._self._c;return s("el-select",a._g(a._b({staticClass:"custom-select-wrap",model:{value:a.selectValue,callback:function(e){a.selectValue=e},expression:"selectValue"}},"el-select",a.$attrs,!1),a.$listeners),a._l(a.options,function(e,t){return s("el-option",{key:e[a.props.value],attrs:{label:e[a.props.label],value:e[a.props.value]}},[a._t("default",null,null,{item:e,index:t})],2)}),1)},[],!1,null,"058e3a7b",null);t.a=a.exports},6137:function(e,t,a){"use strict";a("8675")},"643d":function(e,t,a){"use strict";a("75fd")},"75fd":function(e,t,a){},"7a26":function(e,t,a){"use strict";var s={components:{mPagination:a("4d86").a},props:{searchBarHeight:{type:String,default:"45px"},padding:{type:String,default:"10px"},tableOptions:{type:Object,default:()=>({}),required:!0},paginationOptions:{type:Object,default:()=>({})},showsearchBar:{type:Boolean,default:!0},tableLoading:{type:Boolean,default:!1},tableMode:{type:Boolean,default:!0},showPagination:{type:Boolean,default:!0}},computed:{tableProps(){return{"header-cell-style":{padding:"5px 0",height:"35px"},"cell-style":{padding:"7px 0","font-size":"13px"},border:!0,height:"100%","highlight-current-row":!0,data:[],...this.tableOptions}},hasSearchSlot(){return!!this.$slots.search},tableRef(){return this.$refs.customTableRef}},methods:{curHandleChange(e){this.$emit("curHandleChange",e)},sizeChangeHandle(e){this.$emit("sizeChangeHandle",e)}}},a=(a("6137"),a("2877")),a=Object(a.a)(s,function(){var e=this,t=e._self._c;return t("div",{staticClass:"custom-table-wrap",style:{"--padding":e.padding}},[e.showsearchBar?t("div",{staticClass:"search-bar-wrap",style:{height:e.searchBarHeight}},[e._t("search")],2):e._e(),t("div",{staticClass:"table-wrap"},[e.tableMode?t("el-table",e._g(e._b({directives:[{name:"loading",rawName:"v-loading",value:e.tableLoading,expression:"tableLoading"}],ref:"customTableRef",staticStyle:{width:"100%"}},"el-table",e.tableProps,!1),e.$listeners),[e._t("default")],2):e._t("content",null,{data:e.tableProps.data})],2),t("div",{staticClass:"pagination-wrap"},[t("div",{staticClass:"foot-wrap"},[e._t("foot")],2),e.showPagination?t("mPagination",{attrs:{pageconfig:e.paginationOptions},on:{curHandleChange:e.curHandleChange,sizeChangeHandle:e.sizeChangeHandle}}):e._e()],1)])},[],!1,null,"b9ec89c4",null);t.a=a.exports},"7cc1":function(e,t,a){"use strict";a("1e8b")},8675:function(e,t,a){},"89a2":function(e,t,a){},"8ce7":function(e,t,a){},9015:function(e,t,a){"use strict";a("8ce7")},a149:function(e,t,a){"use strict";a.r(t);var s=a("cc33"),i=a("3335"),l=a("1e1d"),r=a("4855"),o=a("7a26"),n=a("4ad3"),c=a("1ed0"),u=a("0c25"),p=a("ef90"),d=a("fa7d"),g=a("3f0e"),h=a("d973"),m=a("5a0c"),f=a.n(m),m={components:{CustomInput:l.a,CustomSelect:r.a,CustomTable:o.a,viewCopy:h.a,ViewCopy:h.a},props:{exportType:{type:String,default:""}},data(){return{paginationPageSet:{layout:"prev, pager, next, sizes, jumper",pageSizes:[50,100,150,200],pageSize:50,currentPage:1,total:1,hideOnSinglePage:!1,background:!0},importExportList:[],filterKeywords:"",dataSourceDataList:[],selectDataSourceName:"",filterDateList:[{label:this.$t("lastday"),value:3},{label:this.$t("lastweek"),value:2},{label:this.$t("lastmonth"),value:1},{label:this.$t("lastyear"),value:0}],selectDateKey:"",userList:[],selectUser:"",buttonLoading:!1,customClass:"fixed-right-column"}},computed:{exportResultList(){return this.filterData()},selectDataSourceDbType(){var e=this.dataSourceDataList.filter(e=>e.dsName===this.selectDataSourceName);return e.length<1?null:e[0].dbType}},created(){this.initGetData()},methods:{reviewErrorLog(e){var{ip:e,start_time:t,error_log:a}=e,e={ipAddress:e,executeTimeLabel:this.$t("Querytime"),executeTime:f()(+t).format("YYYY-MM-DD HH:mm:ss"),logMessageLabel:this.$t("reviewLogs"),logMessage:a};Object(g.a)({dialogVisible:!0,title:this.$t("reviewLogs"),msgList:e})},filterData(){var e,t,a,s=this.importExportList.filter(e=>{var t;return!!Object(d.r)(this.filterKeywords)||(t=this.filterKeywords.trim().toLowerCase(),0<=e.sql_string.toLowerCase().indexOf(t))||0<=e.file_name.toLowerCase().indexOf(t)||void 0});return this.paginationPageSet.total!=s.length&&(this.paginationPageSet.total=s.length,{currentPage:e,pageSize:t,total:a}=this.paginationPageSet,(a=Math.ceil(a/t))<e)&&(this.paginationPageSet.currentPage=a<1?1:a),s.slice((this.paginationPageSet.currentPage-1)*this.paginationPageSet.pageSize,this.paginationPageSet.currentPage*this.paginationPageSet.pageSize)},initGetData(){this.getImportExportList(),this.getUserList(),this.getDataSourceList()},getDatabaseFixIcon:c.D,getImportExportList(){this.buttonLoading=!0,Object(n.k)({userId:this.selectUser,dsName:this.selectDataSourceName,timeType:this.selectDateKey,exportType:this.exportType}).then(e=>{this.$resultSuccess(e)&&(this.importExportList=e.data.data,this.paginationPageSet.currentPage=1)}).finally(()=>{this.buttonLoading=!1})},getImportExportStateText(e){switch(e){case 1:return this.$t("table.success");case 0:return this.$t("table.fail");case 11:return this.$t("table.execution");case 12:return this.$t("table.transmission")}},getDataSourceList(){Object(u.b)().then(({data:e})=>{1===e.code?(this.dataSourceDataList=e.data,this.filterData()):this.$message({type:"error",message:e.msg})}).catch(e=>{})},getUserList(){Object(p.h)({}).then(e=>{this.$resultSuccess(e)?this.userList=e.data.data:this.$handleError(e)})},handleChangeCurrentPage(e){this.paginationPageSet.currentPage=e},handleChangePageSize(e){this.paginationPageSet.pageSize=e},localStopImportOrExportProcess(t){this.$messageBox.confirm(this.$t("confirm.confirmTerminationExecution"),this.$t("confirm.tishi"),{confirmButtonText:this.$t("btn.sure"),cancelButtonText:this.$t("btn.cancel"),type:"warning"}).then(()=>{Object(n.C)({recordId:t.id}).then(e=>{this.$resultSuccess(e)?(this.$message({message:this.$t("terminationSuccess"),type:"success"}),t.execute_status=0):this.$handleError(e)})}).catch(e=>{})},setTableScrollListener(){this.$refs.table.$el.querySelector(".el-table__body-wrapper").addEventListener("scroll",this.hideLastToolsTips)},hideLastToolsTips(){var e=document.getElementsByClassName("el-tooltip__popper");e.length<1||(e[document.getElementsByClassName("el-tooltip__popper").length-1].style.display="none")}},filters:{filterResultStateClass(e){switch(e.toString()){case"0":return"isRed";case"12":case"11":return"isYellow";default:return"isGreen"}}}},c=(a("ecde"),a("2877")),m=Object(c.a)(m,function(){var a=this,s=a._self._c;return s("custom-table",{staticClass:"importExport-table",attrs:{tableOptions:{data:a.exportResultList},paginationOptions:a.paginationPageSet,tableLoading:a.buttonLoading},on:{curHandleChange:a.handleChangeCurrentPage,sizeChangeHandle:a.handleChangePageSize}},[s("div",{staticClass:"flex-row-center search-wrap",attrs:{slot:"search"},slot:"search"},[s("div",{staticClass:"flex-row-center"},[s("custom-input",{attrs:{clearable:"",placeholder:a.$t("placeholder")},model:{value:a.filterKeywords,callback:function(e){a.filterKeywords=e},expression:"filterKeywords"}}),s("div",{staticClass:"flex-row-center select-list-wrap"},[s("custom-select",{attrs:{options:a.userList,props:{value:"id",label:"name"},placeholder:a.$t("table.user"),filterable:"",clearable:""},on:{change:a.getImportExportList},model:{value:a.selectUser,callback:function(e){a.selectUser=e},expression:"selectUser"}}),s("custom-select",{attrs:{options:a.dataSourceDataList,props:{value:"dsName",label:"dsName"},placeholder:a.$t("dataSource"),filterable:"",clearable:""},on:{change:a.getImportExportList},model:{value:a.selectDataSourceName,callback:function(e){a.selectDataSourceName=e},expression:"selectDataSourceName"}}),s("custom-select",{attrs:{options:a.filterDateList,placeholder:a.$t("Querytime"),filterable:"",clearable:""},on:{change:a.getImportExportList},model:{value:a.selectDateKey,callback:function(e){a.selectDateKey=e},expression:"selectDateKey"}})],1)],1),s("el-button",{staticClass:"button-default-blue",attrs:{loading:a.buttonLoading,size:"mini"},on:{click:function(e){return a.initGetData()}}},[a._v(a._s(a.$t("refresh")))])],1),s("el-table-column",{attrs:{type:"index",fixed:"left",width:"54",label:"#"},scopedSlots:a._u([{key:"default",fn:function(e){return[s("span",[a._v(a._s(e.$index+1+a.paginationPageSet.pageSize*(a.paginationPageSet.currentPage-1)))])]}}])}),s("el-table-column",{attrs:{label:a.$t("table.Executionstatus"),width:"120","show-overflow-tooltip":!0},scopedSlots:a._u([{key:"default",fn:function(e){return[s("div",{staticClass:"status-icon-no-color",class:a._f("filterResultStateClass")(e.row.execute_status)}),s("span",[a._v(a._s(a.getImportExportStateText(e.row.execute_status)))])]}}])}),s("el-table-column",{attrs:{label:a.$t("form.startuptime"),prop:"scope.row.start_time",sortable:"",width:"160","show-overflow-tooltip":!0},scopedSlots:a._u([{key:"default",fn:function(e){return[s("span",[a._v(a._s(a._f("timeStamp")(e.row.start_time)))])]}}])}),s("el-table-column",{attrs:{label:a.$t("Executiontime"),width:"100","show-overflow-tooltip":!0},scopedSlots:a._u([{key:"default",fn:function(e){return[s("span",[a._v(a._s(e.row.sql_execute_time?e.row.sql_execute_time+"s":0))])]}}])}),s("el-table-column",{attrs:{label:a.$t("Transmissiontime"),width:"120","show-overflow-tooltip":!0},scopedSlots:a._u([{key:"default",fn:function(e){return[s("span",[a._v(a._s(e.row.response_time?e.row.response_time+"s":0))])]}}])}),s("el-table-column",{attrs:{label:a.$t("executeLinenum"),width:"120","show-overflow-tooltip":!0},scopedSlots:a._u([{key:"default",fn:function(e){return[s("span",[a._v(a._s(e.row.row_num))])]}}])}),"export"!=a.exportType?s("el-table-column",{attrs:{label:a.$t("successlinenum"),width:"120","show-overflow-tooltip":!0},scopedSlots:a._u([{key:"default",fn:function(e){return[s("span",[a._v(a._s(e.row.success_num))])]}}],null,!1,1108721100)}):a._e(),"import"!=a.exportType?s("el-table-column",{attrs:{label:"executeFile"==a.exportType?a.$t("failSQL"):"SQL","min-width":"300"},scopedSlots:a._u([{key:"default",fn:function(e){return[s("view-copy",{attrs:{"preview-value":e.row.sql_string}},[a._v(" "+a._s(e.row.sql_string)+" ")])]}}],null,!1,1632369679)}):a._e(),s("el-table-column",{attrs:{label:a.$t("filename"),prop:"scope.row.filename","min-width":"200","show-overflow-tooltip":!0},scopedSlots:a._u([{key:"default",fn:function(e){return[s("span",[a._v(a._s(e.row.file_name))])]}}])}),s("el-table-column",{attrs:{label:a.$t("fileFormat"),prop:"scope.row.fileformat",width:"80","show-overflow-tooltip":!0},scopedSlots:a._u([{key:"default",fn:function(e){return[s("span",[a._v(a._s(e.row.file_format))])]}}])}),s("el-table-column",{attrs:{label:a.$t("table.Datasourcea"),prop:"scope.row.dsName",width:"120","show-overflow-tooltip":!0},scopedSlots:a._u([{key:"default",fn:function(e){return[s("span",[a._v(a._s(e.row.ds_name))])]}}])}),s("el-table-column",{attrs:{label:a.$t("database"),prop:"scope.row.dbName",width:"120","show-overflow-tooltip":!0},scopedSlots:a._u([{key:"default",fn:function(e){return[s("span",[a._v(a._s(e.row.db_name))])]}}])}),s("el-table-column",{attrs:{label:"Schema",prop:"scope.row.schema_name",width:"120","show-overflow-tooltip":!0},scopedSlots:a._u([{key:"default",fn:function(e){return[s("span",[a._v(a._s(e.row.schema_name))])]}}])}),s("el-table-column",{attrs:{label:a.$t("table.Operating"),width:"150",fixed:"right","class-name":a.customClass},scopedSlots:a._u([{key:"default",fn:function({row:t}){return[s("el-button",{attrs:{type:"info",size:"mini"},on:{click:function(e){return a.reviewErrorLog(t)}}},[a._v(" "+a._s(a.$t("reviewLogs"))+" ")]),11==t.execute_status&&"generate"===a.exportType?s("el-button",{staticStyle:{color:"red"},attrs:{type:"info",size:"mini"},on:{click:function(e){return a.localStopImportOrExportProcess(t)}}},[a._v(" "+a._s(a.$t("termination"))+" ")]):a._e()]}}])})],1)},[],!1,null,"ddbec56a",null).exports,b=a("5875"),l={components:{CustomInput:l.a,CustomSelect:r.a,CustomTable:o.a,ViewCopy:h.a,LynxDialog:b.a},data(){return{timeArr:[],pickerOptions:{disabledDate:e=>e.getTime()>Date.now()},filterDateList:[{label:this.$t("lastday"),value:3},{label:this.$t("lastweek"),value:2},{label:this.$t("lastmonth"),value:1},{label:this.$t("lastyear"),value:0}],statusList:[{label:this.$t("table.success"),value:1},{label:this.$t("table.fail"),value:0}],selectStatus:"",oriResultList:[],resultList:[],paginationPageSet:{layout:"prev, pager, next, sizes, jumper",pageSizes:[50,100,150,200],pageSize:50,currentPage:1,total:1,hideOnSinglePage:!1,background:!0},createDialog:!1,buttonLoading:!1,filterKeywords:"",selectUser:"",cBForm:{timeArr:null,tableName:""},columnList:["file_name","execute_status","ip","sql_execute_time","sql_string","start_time"],columnW:["150%","100%","150%","130%","","150%"]}},computed:{getResultList(){return this.filterData()}},methods:{closeDialog(){this.createDialog=!1},filterLogList(){this.resultList=this.oriResultList.filter(e=>!!Object(d.r)(this.selectStatus)||e.execute_status==this.selectStatus||void 0)},reviewErrorLog(e){var{ip:e,start_time:t,error_log:a}=e,e={ipAddress:e,executeTimeLabel:this.$t("Querytime"),executeTime:f()(+t).format("YYYY-MM-DD HH:mm:ss"),logMessageLabel:this.$t("reviewLogs"),logMessage:a};Object(g.a)({dialogVisible:!0,title:this.$t("reviewLogs"),msgList:e})},filterData(){var e,t,a,s=this.resultList.filter(e=>{var t;return!!Object(d.r)(this.filterKeywords)||(t=this.filterKeywords.trim().toLowerCase(),0<=e.sql_string.toLowerCase().indexOf(t))||0<=e.file_name.toLowerCase().indexOf(t)||0<=e.ip.toLowerCase().indexOf(t)||void 0});return this.paginationPageSet.total!=s.length&&(this.paginationPageSet.total=s.length,{currentPage:e,pageSize:t,total:a}=this.paginationPageSet,(a=Math.ceil(a/t))<e)&&(this.paginationPageSet.currentPage=a<1?1:a),s.slice((this.paginationPageSet.currentPage-1)*this.paginationPageSet.pageSize,this.paginationPageSet.currentPage*this.paginationPageSet.pageSize)},handleChangeCurrentPage(e){this.paginationPageSet.currentPage=e},handleChangePageSize(e){this.paginationPageSet.pageSize=e},getLogList(){this.buttonLoading=!0,Object(n.l)({}).then(e=>{this.buttonLoading=!1,1===e.data.code?(e.data.data.map(e=>{e.start_time=f()(+e.start_time).format("YYYY-MM-DD HH:mm:ss")}),this.oriResultList=e.data.data):this.oriResultList=[],this.filterLogList(),this.filterData()})},initGetData(){this.getLogList()},getImportExportStateText(e){switch(e){case 1:return this.$t("table.success");case 0:return this.$t("table.fail");case 11:return this.$t("table.execution");case 12:return this.$t("table.transmission")}},createBackup(){const{timeArr:t,tableName:a}=this.cBForm;this.$refs.cBForm.validate(e=>{e&&Object(n.f)({startTime:t[0],endTime:t[1],tableName:a}).then(e=>{this.$resultSuccess(e)?(this.getLogList(),this.createDialog=!1):this.$handleError(e)})})},openCBDialog(){this.createDialog=!0,this.timeArr=[],this.cBForm.tableName="execute_sql_"+f()(new Date).format("YYYYMMDD")}},created(){this.initGetData()},filters:{filterResultStateClass(e){switch(e.toString()){case"0":return"isRed";case"12":case"11":return"isYellow";default:return"isGreen"}}}};a("d0cb");r=Object(c.a)(l,function(){var a=this,s=a._self._c;return s("div",{staticClass:"log_archiving"},[s("custom-table",{staticClass:"importExport-table",attrs:{tableOptions:{data:a.getResultList},paginationOptions:a.paginationPageSet,tableLoading:a.buttonLoading},on:{curHandleChange:a.handleChangeCurrentPage,sizeChangeHandle:a.handleChangePageSize}},[s("div",{staticClass:"flex-row-center search-wrap",attrs:{slot:"search"},slot:"search"},[s("div",{staticClass:"flex-row-center"},[s("custom-input",{attrs:{clearable:"",placeholder:a.$t("placeholder")},model:{value:a.filterKeywords,callback:function(e){a.filterKeywords=e},expression:"filterKeywords"}}),s("div",{staticClass:"flex-row-center select-list-wrap"},[s("custom-select",{attrs:{options:a.statusList,placeholder:a.$t("table.Executionstatus"),filterable:"",clearable:""},on:{change:a.filterLogList},model:{value:a.selectStatus,callback:function(e){a.selectStatus=e},expression:"selectStatus"}})],1)],1),s("el-button",{staticClass:"button-default-blue",attrs:{loading:a.buttonLoading,size:"mini"},on:{click:function(e){return a.initGetData()}}},[a._v(a._s(a.$t("refresh")))]),s("el-button",{staticClass:"button-default-blue",attrs:{loading:a.buttonLoading,size:"mini"},on:{click:function(e){return a.openCBDialog()}}},[a._v(a._s(a.$t("btn.submit")))])],1),s("el-table-column",{attrs:{type:"index",fixed:"left",width:"54",label:a.$t("table.ordinal")},scopedSlots:a._u([{key:"default",fn:function(e){return[s("span",[a._v(a._s(e.$index+1+a.paginationPageSet.pageSize*(a.paginationPageSet.currentPage-1)))])]}}])}),a._l(a.columnList,function(t,e){return s("el-table-column",{key:t,attrs:{width:a.columnW[e],"show-overflow-tooltip":"sql_string"!==t,prop:t,label:a.$t("table."+t)},scopedSlots:a._u([{key:"default",fn:function(e){return["execute_status"===t?s("div",[s("i",{staticClass:"status-icon-no-color",class:a._f("filterResultStateClass")(e.row.execute_status)}),s("span",[a._v(a._s(a.getImportExportStateText(e.row.execute_status)))])]):"sql_string"===t?s("view-copy",{attrs:{"preview-value":e.row.sql_string}},[a._v(" "+a._s(e.row.sql_string)+" ")]):s("div",[a._v(" "+a._s(e.row[t])+" ")])]}}],null,!0)})}),s("el-table-column",{attrs:{label:a.$t("table.Operating"),width:"100px"},scopedSlots:a._u([{key:"default",fn:function({row:t}){return[s("el-button",{attrs:{type:"info",size:"mini"},on:{click:function(e){return a.reviewErrorLog(t)}}},[a._v(" "+a._s(a.$t("reviewLogs"))+" ")])]}}])})],2),s("lynx-dialog",{attrs:{title:a.$t("btn.submit")+a.$t("Log_archiving"),visible:a.createDialog},on:{closeDialogClick:a.closeDialog}},[s("el-form",{ref:"cBForm",staticClass:"form-show-box",attrs:{"label-width":"60px",size:"small",model:a.cBForm}},[s("el-form-item",{attrs:{rules:[{required:!0,message:a.$t("databaseBackup.pleaseSelect")+a.$t("date")}],label:a.$t("apith.timer"),prop:"timeArr"}},[s("el-date-picker",{staticStyle:{width:"100%"},attrs:{size:"mini",clearable:"","value-format":"timestamp",type:"daterange",pickerOptions:a.pickerOptions,"range-separator":a.$t("to"),"start-placeholder":a.$t("startDate"),"end-placeholder":a.$t("endDate")},model:{value:a.cBForm.timeArr,callback:function(e){a.$set(a.cBForm,"timeArr",e)},expression:"cBForm.timeArr"}})],1),s("el-form-item",{attrs:{label:a.$t("tableName"),prop:"tableName",rules:[{required:!0,message:a.$t("placeholder")+a.$t("table.tablename"),trigger:"blur"}]}},[s("el-input",{attrs:{size:"mini",clearable:"",maxlength:"200"},model:{value:a.cBForm.tableName,callback:function(e){a.$set(a.cBForm,"tableName",e)},expression:"cBForm.tableName"}})],1)],1),s("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[s("el-button",{on:{click:a.closeDialog}},[a._v(a._s(a.$t("btn.cancel")))]),s("el-button",{staticClass:"blue-button",on:{click:function(e){return a.createBackup()}}},[a._v(a._s(a.$t("btn.sure")))])],1)],1)],1)},[],!1,null,"4ee61946",null).exports,o=a("2f62"),h={components:{filterBar:i.a,ImportExport:m,LogArchiving:r},computed:{...Object(o.b)(["isSuperAdminUser"])},data(){return{username:Object(s.b)("username"),menuList:[{label:"importLib",icon:"import-icon",name:"import"},{label:"exportLib",icon:"export-icon",name:"export"},{label:"Generate_test_data",icon:"generate-icon",name:"generate"},{label:"executeFile",icon:"execute-icon",name:"executeFile"}],activeName:""}},created(){}},b=Object(c.a)(h,function(){var a=this,s=a._self._c;return s("filter-bar",{attrs:{"title-label":"taskCenter","menu-list":a.menuList},on:{change:e=>a.activeName=e}},[[a._l(a.menuList.filter(e=>"Log_archiving"!=e.label),function(e,t){return s("ImportExport",{directives:[{name:"show",rawName:"v-show",value:e.name===a.activeName,expression:"item.name === activeName"}],key:t,attrs:{exportType:e.name}})}),s("LogArchiving",{directives:[{name:"show",rawName:"v-show",value:"log"===a.activeName,expression:"activeName === 'log'"}]})]],2)},[],!1,null,"542d1812",null);t.default=b.exports},ace8:function(e,t,a){},c4ae:function(e,t,a){"use strict";a("ace8")},d0cb:function(e,t,a){"use strict";a("1caf")},d34b:function(e,t,a){},d973:function(e,t,a){"use strict";var s=a("32a8"),i=a("fa7d"),l=a("5875"),s={components:{ace:s.a,LynxDialog:l.a},props:{previewValue:{type:String,default:""},type:{previewType:{type:String,default:"SQL"}}},data(){return{dialogVisible:!1,islineBreaks:!0}},mounted(){},methods:{closeDialog(){this.dialogVisible=!1},toggleFullScreen(){let e=this.$refs.aceSQLRef;e&&this.$nextTick(()=>{e.aceResize()})},openDialog(){this.dialogVisible=!0,this.$nextTick(()=>{var e=this.$refs.aceSQLRef;Object(i.w)(e,this.previewValue),this.setIslineBreaks()})},setIslineBreaks(){var e=this.$refs.aceSQLRef;this.islineBreaks=e.aceEditor.getSession().getUseWrapMode()},handleCopy(){this.$message({message:this.$t("copyState.success"),type:"success"})},handleError(){this.$message({message:this.$t("copyState.error"),type:"error"})},lineBreaksHandle(){this.$refs.aceSQLRef.aceEditor.getSession().setUseWrapMode(!this.islineBreaks),this.$nextTick(()=>{this.setIslineBreaks()})}}},l=(a("00a8"),a("2877")),s=Object(l.a)(s,function(){var e=this,t=e._self._c;return t("lynx-dialog",{attrs:{title:e.$t("btn.see"),visible:e.dialogVisible},on:{closeDialogClick:e.closeDialog,fullScreenClick:e.toggleFullScreen}},[t("div",{staticClass:"ace-con-wrap"},[t("ace",{ref:"aceSQLRef",attrs:{id:"ace-content",isReadonly:!0}})],1),t("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[t("el-button",{on:{click:e.closeDialog}},[e._v(e._s(e.$t("sqlPreview.cancel")))]),t("el-button",{directives:[{name:"clipboard",rawName:"v-clipboard:copy",value:e.previewValue,expression:"previewValue",arg:"copy"},{name:"clipboard",rawName:"v-clipboard:success",value:e.handleCopy,expression:"handleCopy",arg:"success"},{name:"clipboard",rawName:"v-clipboard:error",value:e.handleError,expression:"handleError",arg:"error"}],staticClass:"blue-button"},[e._v(e._s(e.$t("sqlPreview.copy")))])],1)])},[],!1,null,"78ac5240",null).exports,r=a("b311"),o=a.n(r),n=a("9612"),r={components:{PreviewDialog:s},props:{isShowCopy:{type:Boolean,default:!0},isShowView:{type:Boolean,default:!0},previewValue:{type:String,default:""},type:{previewType:{type:String,default:"SQL"}}},data(){return{showPreview:!1,copyId:"copy-"+n.a.v4()}},methods:{showPreviewHandle(){this.showPreview=!0,this.$nextTick(()=>{this.$refs.previewDialogRef.openDialog()})},copyPreviewValue(){document.getElementById(this.copyId);let t=new o.a(document.getElementById(this.copyId),{text:()=>this.previewValue});t.on("success",e=>{this.$message({message:this.$t("copyState.success"),type:"success"}),t.destroy()}),t.on("error",e=>{this.$message({message:this.$t("copyState.error"),type:"error"}),t.destroy()})}}},s=(a("eced"),Object(l.a)(r,function(){var e=this,t=e._self._c;return t("div",{staticClass:"view-copy-wrap"},[t("div",{staticClass:"content-area text-dot-dot-dot"},[e._t("default")],2),e.previewValue&&(e.isShowView||e.isShowCopy)?t("div",{staticClass:"hover-button-wrap",attrs:{id:e.copyId}},[e.isShowView?t("svg-icon",{attrs:{"icon-class":"view-icon"},on:{click:e.showPreviewHandle}}):e._e(),e.isShowCopy?t("svg-icon",{attrs:{"icon-class":"copy-icon"},on:{click:e.copyPreviewValue}}):e._e()],1):e._e(),e.showPreview?t("preview-dialog",e._b({ref:"previewDialogRef"},"preview-dialog",e.$props,!1)):e._e()],1)},[],!1,null,"59afdb1e",null));t.a=s.exports},ecde:function(e,t,a){"use strict";a("d34b")},eced:function(e,t,a){"use strict";a("fddc")},ef90:function(e,t,a){"use strict";a.d(t,"k",function(){return i}),a.d(t,"l",function(){return l}),a.d(t,"h",function(){return r}),a.d(t,"a",function(){return o}),a.d(t,"b",function(){return n}),a.d(t,"j",function(){return c}),a.d(t,"i",function(){return u}),a.d(t,"e",function(){return p}),a.d(t,"f",function(){return d}),a.d(t,"g",function(){return g}),a.d(t,"d",function(){return h}),a.d(t,"c",function(){return m});var s=a("b775");function i(e){return Object(s.a)({method:"post",url:"user/login",data:e,hasUserTimeoutIntercept:!1})}function l(e){return Object(s.a)({method:"post",url:"user/getAllUserList",data:e})}function r(e){return Object(s.a)({method:"post",url:"user/getAllUserBasicInfoList",data:e})}function o(e){return Object(s.a)({method:"post",url:"user/addUser",data:e})}function n(e){return Object(s.a)({method:"delete",url:"user/delete/"+e})}function c(e){return Object(s.a)({method:"post",url:"user/editUserState",data:e})}function u(e){return Object(s.a)({method:"get",url:"user/getUserInformationWithGroupById/"+e})}function p(){return Object(s.a)({method:"get",url:"user/getAllGroupListByCompanyUsingManager/"})}function d(e){return Object(s.a)({method:"post",url:"user/getAllPermissionListLikeDatasourceView/",data:e})}function g(e){return Object(s.a)({method:"post",url:"approval/getRiskDetailForDatasource/",data:e})}function h(e){return Object(s.a)({method:"post",url:"user/editUserBaseInformation",data:e})}function m(e){return Object(s.a)({method:"post",url:"user/editBasicInfo",data:e})}},fddc:function(e,t,a){}}]);